<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive Info Card — Expand / Collapse</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#06b6d4;
      --text:#e6eef6;
      --muted:#9fb4c8;
      --radius:12px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{
      min-height:100vh;display:flex;align-items:center;justify-content:center;padding:32px;margin:0;background:linear-gradient(180deg,#071226 0%, #04121b 100%);color:var(--text);
    }

    .container{
      width:100%;max-width:420px;
    }

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);
      border-radius:var(--radius);
      padding:16px;
      box-shadow:0 6px 20px rgba(2,6,23,0.6);
      overflow:hidden;
    }

    .card-header{
      display:flex;align-items:center;gap:12px;cursor:pointer;
    }

    .avatar{
      width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#7dd3fc);flex:0 0 56px;display:grid;place-items:center;font-weight:700;color:#002833;font-size:20px;
      box-shadow:0 6px 18px rgba(6,182,212,0.12), inset 0 -6px 18px rgba(255,255,255,0.02);
    }

    .meta{
      flex:1;min-width:0;
    }
    .title{font-size:1.03rem;font-weight:600;margin:0 0 4px}
    .subtitle{font-size:0.85rem;color:var(--muted);margin:0}

    .toggle-btn{
      background:none;border:0;padding:6px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:var(--muted);
    }
    .chev{display:inline-block;transition:transform 280ms cubic-bezier(.2,.9,.3,1);}

    .content{
      margin-top:12px;overflow:hidden;transition:height 320ms cubic-bezier(.2,.9,.3,1);height:0px;
    }
    .content .inner{
      padding:8px 2px 0 0;color:var(--muted);line-height:1.5;font-size:0.95rem;
    }

    .card.open .chev{transform:rotate(180deg)}

    /* subtle hint row */
    .footer{
      margin-top:14px;display:flex;gap:8px;align-items:center;font-size:0.85rem;color:var(--muted);
    }
    .pill{background:rgba(255,255,255,0.02);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.02)}

    /* accessibility: prefer reduced motion */
    @media (prefers-reduced-motion: reduce){
      .chev,.content{transition:none}
    }
  </style>
</head>
<body>
  <div class="container">
    <article class="card" id="infoCard">
      <div class="card-header" id="cardHeader" role="button" tabindex="0" aria-expanded="false" aria-controls="cardContent">
        <div class="avatar" aria-hidden="true">iN</div>
        <div class="meta">
          <h3 class="title">Interactive Info Card</h3>
          <p class="subtitle">Click to expand for details — keyboard accessible (Enter / Space)</p>
        </div>
        <button class="toggle-btn" aria-hidden="true" tabindex="-1">
          <span class="chev">▾</span>
        </button>
      </div>

      <div class="content" id="cardContent" aria-hidden="true">
        <div class="inner">
          <p><strong>What it does:</strong> This small card reveals extra information when opened. It uses accessible ARIA attributes and smooth height animation calculated in JavaScript for a fluid expand/collapse experience.</p>
          <p><strong>Why this pattern:</strong> It keeps the UI compact while making details available on demand. Works well for summaries, tooltips, FAQs, or profile snippets.</p>
          <ul>
            <li>Keyboard toggling (Enter / Space)</li>
            <li>Accessible aria-expanded / aria-hidden updates</li>
            <li>Smooth animation using element.scrollHeight</li>
          </ul>
        </div>
      </div>

      <div class="footer">
        <span class="pill">Small</span>
        <span class="pill">Accessible</span>
        <span style="margin-left:auto;color:var(--muted);font-size:0.82rem">Version 1</span>
      </div>
    </article>
  </div>

  <script>
    (function(){
      const card = document.getElementById('infoCard');
      const header = document.getElementById('cardHeader');
      const content = document.getElementById('cardContent');

      function openCard(){
        card.classList.add('open');
        header.setAttribute('aria-expanded','true');
        content.setAttribute('aria-hidden','false');
        // set a fixed height to animate to (use scrollHeight)
        const h = content.scrollHeight;
        content.style.height = h + 'px';
      }
      function closeCard(){
        // animate to height 0
        content.style.height = content.scrollHeight + 'px';
        // force a repaint so the transition happens
        void content.offsetHeight;
        content.style.height = '0px';
        card.classList.remove('open');
        header.setAttribute('aria-expanded','false');
        content.setAttribute('aria-hidden','true');
      }

      function toggle(){
        const expanded = header.getAttribute('aria-expanded') === 'true';
        if(expanded) closeCard(); else openCard();
      }

      header.addEventListener('click', toggle);

      // keyboard support (Enter / Space)
      header.addEventListener('keydown', function(e){
        if(e.code === 'Enter' || e.code === 'Space' || e.key === ' '){
          e.preventDefault(); toggle();
        }
      });

      // When transition ends and the card is open, set height to 'auto' so content can grow naturally.
      content.addEventListener('transitionend', function(){
        const expanded = header.getAttribute('aria-expanded') === 'true';
        if(expanded){
          content.style.height = 'auto';
        }
      });

      // close if user clicks outside (optional) — comment out if undesired
      document.addEventListener('click', function(e){
        if(!card.contains(e.target) && header.getAttribute('aria-expanded') === 'true'){
          closeCard();
        }
      });

      // init: ensure content height is zero
      content.style.height = '0px';
    })();
  </script>
</body>
</html>
